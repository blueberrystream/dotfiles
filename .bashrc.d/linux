# Setup ssh-agent
ssh_agent_file=$HOME/.ssh/.ssh-agent
if [ -f $ssh_agent_file ]; then
  . $ssh_agent_file
fi
if [ -z "$SSH_AGENT_PID" ] || ! kill -0 $SSH_AGENT_PID; then
  ssh-agent | sed 's/^echo/#echo/' > $ssh_agent_file
  chmod 600 $ssh_agent_file
  . $ssh_agent_file
fi
ssh-add -l >& /dev/null || ssh-add

if type anyenv > /dev/null 2>&1; then
  export_path $HOME/.anyenv/bin
  eval "$(anyenv init -)"
fi

if type direnv > /dev/null 2>&1; then
  eval "$(direnv hook bash)"
fi

export GOPATH=$HOME/local/gopath
export_path $GOPATH/bin

[[ -f $HOME/.cda/cda/cda.sh ]] && . $HOME/.cda/cda/cda.sh

net_tools_deprecated_message () {
  echo -n 'net-tools コマンドはもう非推奨ですよ？おじさんなんじゃないですか？ '
}

arp () {
  net_tools_deprecated_message
  echo 'Use `ip n`'
}
ifconfig () {
  net_tools_deprecated_message
  echo 'Use `ip a`, `ip link`, `ip -s link`'
}
iptunnel () {
  net_tools_deprecated_message
  echo 'Use `ip tunnel`'
}
iwconfig () {
  echo -n 'iwconfig コマンドはもう非推奨ですよ？おじさんなんじゃないですか？ '
  echo 'Use `iw`'
}
nameif () {
  net_tools_deprecated_message
  echo 'Use `ip link`, `ifrename`'
}
netstat () {
  net_tools_deprecated_message
  echo 'Use `ss`, `ip route` (for netstat -r), `ip -s link` (for netstat -i), `ip maddr` (for netstat -g)'
}
route () {
  net_tools_deprecated_message
  echo 'Use `ip r`'
}
